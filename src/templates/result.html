{% extends 'base.html' %}

{% block title %}Result - Leaf Doctor{% endblock %}

{% block content %}
<div class="result-container">
    <div class="image-box" id="image-box">
        <!-- Hiển thị hình ảnh đã upload từ thư mục uploads -->
        <img src="{{ url }}" alt="Uploaded Image">
    </div>
    <div class="info-box" id="info">
        <!-- Hiển thị kết quả -->
        <p><strong>Kết quả tình trạng lá của bạn:</strong></p>
        <p>_______________________________</p>
        {% if condition['status'] == 1 %}
            <p><strong>Tên lá:</strong> {{ condition["Tên lá"] }}</p>
            <p class="condition">{{ condition["Chẩn đoán"] }}</p>
        {% elif condition['status'] == 0 %}
            <p class="condition">Xin lỗi! Chúng tôi không thể xác định lá của bạn</p>
        {% else %}
            <p><strong>Tên lá:</strong> {{ condition["Tên lá"] }}</p>
            <p><strong>Bệnh:</strong> {{ condition["Chẩn đoán"] }}</p>
            <p><strong>Biểu hiện:</strong> {{ condition["Biểu hiện"] }}</p>
            <p><strong>Giải pháp:</strong> {{ condition["Giải pháp"] }}</p>
        {% endif %}
        <input type="checkbox"
               id="switch"
               class="checkbox" />
                
        <label for="switch"
               class="toggle">
            <div class="toggle-content">
                <p class="toggle-placeholder">Show confidence score</p>
                <p class="confidence-score"><strong>Score:</strong> {{ condition["Confidence score"] }}</p>
            </div>
        </label>
        {% if "Confidence score" in condition %}
        {% endif %}
    </div>
</div>
<!-- Form Upload -->
<form id="uploadForm" action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data" style="display: none;">
    <input type="file" name="file" id="fileInput" accept=".jpg, .jpeg, .png" required>
    <input type="submit" value="Upload">
</form>
<div class="loader-container">
    <div class="loader"></div>
    <p>Đang xử lý dữ liệu...</p>
</div>
{% endblock %}
